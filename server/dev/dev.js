/******/ (function (modules) {
  // webpackBootstrap
  /******/ // The module cache
  /******/ var installedModules = {}; // The require function
  /******/
  /******/ /******/ function __webpack_require__(moduleId) {
    /******/
    /******/ // Check if module is in cache
    /******/ if (installedModules[moduleId]) {
      /******/ return installedModules[moduleId].exports;
      /******/
    } // Create a new module (and put it into the cache)
    /******/ /******/ var module = (installedModules[moduleId] = {
      /******/ i: moduleId,
      /******/ l: false,
      /******/ exports: {},
      /******/
    }); // Execute the module function
    /******/
    /******/ /******/ modules[moduleId].call(
      module.exports,
      module,
      module.exports,
      __webpack_require__
    ); // Flag the module as loaded
    /******/
    /******/ /******/ module.l = true; // Return the exports of the module
    /******/
    /******/ /******/ return module.exports;
    /******/
  } // expose the modules object (__webpack_modules__)
  /******/
  /******/
  /******/ /******/ __webpack_require__.m = modules; // expose the module cache
  /******/
  /******/ /******/ __webpack_require__.c = installedModules; // define getter function for harmony exports
  /******/
  /******/ /******/ __webpack_require__.d = function (exports, name, getter) {
    /******/ if (!__webpack_require__.o(exports, name)) {
      /******/ Object.defineProperty(exports, name, {
        enumerable: true,
        get: getter,
      });
      /******/
    }
    /******/
  }; // define __esModule on exports
  /******/
  /******/ /******/ __webpack_require__.r = function (exports) {
    /******/ if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
      /******/ Object.defineProperty(exports, Symbol.toStringTag, {
        value: "Module",
      });
      /******/
    }
    /******/ Object.defineProperty(exports, "__esModule", { value: true });
    /******/
  }; // create a fake namespace object // mode & 1: value is a module id, require it // mode & 2: merge all properties of value into the ns // mode & 4: return value when already ns object // mode & 8|1: behave like require
  /******/
  /******/ /******/ /******/ /******/ /******/ /******/ __webpack_require__.t = function (
    value,
    mode
  ) {
    /******/ if (mode & 1) value = __webpack_require__(value);
    /******/ if (mode & 8) return value;
    /******/ if (
      mode & 4 &&
      typeof value === "object" &&
      value &&
      value.__esModule
    )
      return value;
    /******/ var ns = Object.create(null);
    /******/ __webpack_require__.r(ns);
    /******/ Object.defineProperty(ns, "default", {
      enumerable: true,
      value: value,
    });
    /******/ if (mode & 2 && typeof value != "string")
      for (var key in value)
        __webpack_require__.d(
          ns,
          key,
          function (key) {
            return value[key];
          }.bind(null, key)
        );
    /******/ return ns;
    /******/
  }; // getDefaultExport function for compatibility with non-harmony modules
  /******/
  /******/ /******/ __webpack_require__.n = function (module) {
    /******/ var getter =
      module && module.__esModule
        ? /******/ function getDefault() {
            return module["default"];
          }
        : /******/ function getModuleExports() {
            return module;
          };
    /******/ __webpack_require__.d(getter, "a", getter);
    /******/ return getter;
    /******/
  }; // Object.prototype.hasOwnProperty.call
  /******/
  /******/ /******/ __webpack_require__.o = function (object, property) {
    return Object.prototype.hasOwnProperty.call(object, property);
  }; // __webpack_public_path__
  /******/
  /******/ /******/ __webpack_require__.p = ""; // Load entry module and return exports
  /******/
  /******/
  /******/ /******/ return __webpack_require__((__webpack_require__.s = 0));
  /******/
})(
  /************************************************************************/
  /******/ {
    /***/ "./src/config.js":
      /*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'exports.config = {\n  // 保存密码时的加密密钥\n  secret: "e3991f4f-b275-47a2-8b06-4a8e32f75901",\n  // 新建管理员的默认账号密码\n  adminAccount: {\n    username: "admin",\n    password: "123456"\n  },\n  // 数据库配置\n  db: {\n    dbName: "carManagementSystem",\n    username: "root",\n    password: "Aa123456",\n    dbConfig: {\n      host: "localhost",\n      dialect: "mysql",\n      pool: {\n        max: 5,\n        min: 0,\n        acquire: 30000,\n        idle: 10000\n      }\n    },\n    timezone: "+08:00"\n  },\n  company: {\n    name: "银马汽车养护中心",\n    address: "公司地址",\n    phones: ["门店电话"]\n  }\n};\n\n//# sourceURL=webpack:///./src/config.js?'
        );

        /***/
      },

    /***/ "./src/crypto/main.js":
      /*!****************************!*\
  !*** ./src/crypto/main.js ***!
  \****************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'var crypto = __webpack_require__(/*! crypto */ "crypto");\n\nvar secret = __webpack_require__(/*! ../config */ "./src/config.js").config.secret;\n\nexports.cryptoPassword = function (password) {\n  return crypto.createHmac("sha256", secret).update(password).digest("hex");\n};\n\n//# sourceURL=webpack:///./src/crypto/main.js?'
        );

        /***/
      },

    /***/ "./src/db/billManagement.js":
      /*!**********************************!*\
  !*** ./src/db/billManagement.js ***!
  \**********************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ./dataBase */ "./src/db/dataBase.js"),\n    bills = _require.bills,\n    inventory = _require.inventory;\n\nvar _require2 = __webpack_require__(/*! ./customerSource */ "./src/db/customerSource.js"),\n    createCustomerSource = _require2.createCustomerSource,\n    createRepairTypes = _require2.createRepairTypes,\n    createCars = _require2.createCars,\n    createCarInfo = _require2.createCarInfo;\n\nvar _require3 = __webpack_require__(/*! ../pubFn/libs */ "./src/pubFn/libs.js"),\n    arraySum = _require3.arraySum,\n    numToChinese = _require3.numToChinese;\n\nexports.saveBill = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(params) {\n    var order, source, repairTypes, remarks, numberPlate, car, VIN, ownerName, phone, mileage, maintenanceItems, session, deviceID, id, finished, receivable, receipts, _iterator, _step, item, inv, defaults, _yield$bills$findOrCr, _yield$bills$findOrCr2, data, created;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            order = params.order, source = params.source, repairTypes = params.repairTypes, remarks = params.remarks, numberPlate = params.numberPlate, car = params.car, VIN = params.VIN, ownerName = params.ownerName, phone = params.phone, mileage = params.mileage, maintenanceItems = params.maintenanceItems, session = params.session, deviceID = params.deviceID, id = params.id, finished = params.finished;\n            order = order || "JY".concat(new Date().getTime());\n            id = id || "";\n            source = source || [];\n            repairTypes = repairTypes || [];\n            numberPlate = numberPlate || "";\n            car = car || "";\n            VIN = VIN || "";\n            remarks = remarks || "";\n            ownerName = ownerName || "";\n            phone = phone || "";\n            mileage = mileage || 0;\n            maintenanceItems = maintenanceItems || [];\n            _context.next = 15;\n            return createCustomerSource(source);\n\n          case 15:\n            _context.next = 17;\n            return createRepairTypes(repairTypes);\n\n          case 17:\n            _context.next = 19;\n            return createCars(car);\n\n          case 19:\n            _context.next = 21;\n            return createCarInfo({\n              numberPlate: numberPlate,\n              car: car,\n              VIN: VIN,\n              ownerName: ownerName,\n              phone: phone,\n              mileage: mileage,\n              session: session,\n              deviceID: deviceID\n            });\n\n          case 21:\n            receivable = 0;\n            receipts = 0;\n            _iterator = _createForOfIteratorHelper(maintenanceItems);\n            _context.prev = 24;\n\n            _iterator.s();\n\n          case 26:\n            if ((_step = _iterator.n()).done) {\n              _context.next = 35;\n              break;\n            }\n\n            item = _step.value;\n            _context.next = 30;\n            return inventory.findByPk(item.id);\n\n          case 30:\n            inv = _context.sent;\n            receivable += inv.sellingPrice * item["count"];\n            receipts += inv.sellingPrice * item["count"] * (item["discount"] / 100);\n\n          case 33:\n            _context.next = 26;\n            break;\n\n          case 35:\n            _context.next = 40;\n            break;\n\n          case 37:\n            _context.prev = 37;\n            _context.t0 = _context["catch"](24);\n\n            _iterator.e(_context.t0);\n\n          case 40:\n            _context.prev = 40;\n\n            _iterator.f();\n\n            return _context.finish(40);\n\n          case 43:\n            defaults = {\n              order: order,\n              source: source,\n              repairTypes: repairTypes,\n              remarks: remarks,\n              numberPlate: numberPlate,\n              car: car,\n              VIN: VIN,\n              ownerName: ownerName,\n              phone: phone,\n              mileage: mileage,\n              maintenanceItems: maintenanceItems,\n              receivable: receivable,\n              receipts: receipts,\n              session: session,\n              deviceID: deviceID,\n              finished: finished\n            };\n            _context.next = 46;\n            return bills.findOrCreate({\n              where: {\n                id: id\n              },\n              defaults: defaults\n            });\n\n          case 46:\n            _yield$bills$findOrCr = _context.sent;\n            _yield$bills$findOrCr2 = _slicedToArray(_yield$bills$findOrCr, 2);\n            data = _yield$bills$findOrCr2[0];\n            created = _yield$bills$findOrCr2[1];\n\n            if (created) {\n              _context.next = 54;\n              break;\n            }\n\n            Object.keys(defaults).forEach(function (key) {\n              data[key] = defaults[key];\n            });\n            _context.next = 54;\n            return data.save();\n\n          case 54:\n            return _context.abrupt("return", {\n              code: 0,\n              msg: created ? "保存成功！" : "更新成功！",\n              data: data.id\n            });\n\n          case 55:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[24, 37, 40, 43]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.queryBill = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(params) {\n    var totalPrice, totalPriceCN, filterTotalPrice, filterTotalPriceCN, query, keys, onlyID, i, len, key, data, options, allBills, company;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // 全部订单金额\n            totalPrice = 0; // 大写\n\n            totalPriceCN = ""; // 查找结果订单金额\n\n            filterTotalPrice = 0;\n            filterTotalPriceCN = "";\n            query = {};\n            keys = Object.keys(params);\n            onlyID = keys.length === 1 && keys[0] === "id";\n            i = 0, len = keys.length;\n\n          case 8:\n            if (!(i < len)) {\n              _context2.next = 16;\n              break;\n            }\n\n            key = keys[i];\n\n            if (!(key === "limit" || key === "offset")) {\n              _context2.next = 12;\n              break;\n            }\n\n            return _context2.abrupt("continue", 13);\n\n          case 12:\n            if (key === "createdAtInterval") {\n              if (Array.isArray(params[key]) && params[key].length === 2) {\n                query["createdAt"] = {\n                  $gte: new Date(params[key][0]),\n                  $lte: new Date(params[key][1])\n                };\n              }\n            } else if (key === "id") {\n              query[key] = params[key];\n            } else if (key === "finished") {\n              query[key] = params[key] === "true";\n            } else {\n              query[key] = {\n                $like: "%".concat(params[key], "%")\n              };\n            }\n\n          case 13:\n            i++;\n            _context2.next = 8;\n            break;\n\n          case 16:\n            data = null;\n            options = {\n              where: _objectSpread(_objectSpread({}, query), {}, {\n                deleted: false\n              })\n            };\n\n            if (params.limit !== undefined) {\n              options.limit = Number(params.limit);\n            }\n\n            if (params.offset !== undefined) {\n              options.offset = Number(params.offset);\n            }\n\n            if (!onlyID) {\n              _context2.next = 27;\n              break;\n            }\n\n            _context2.next = 23;\n            return bills.findOne(options);\n\n          case 23:\n            data = _context2.sent;\n\n            if (data !== null) {\n              filterTotalPrice = data.receipts;\n              totalPrice = data.receipts;\n            }\n\n            _context2.next = 35;\n            break;\n\n          case 27:\n            _context2.next = 29;\n            return bills.findAndCountAll(options);\n\n          case 29:\n            data = _context2.sent;\n            _context2.next = 32;\n            return bills.findAll({\n              where: {\n                deleted: false\n              }\n            });\n\n          case 32:\n            allBills = _context2.sent;\n            filterTotalPrice = arraySum(data.rows, "receipts");\n            totalPrice = arraySum(allBills, "receipts");\n\n          case 35:\n            filterTotalPriceCN = numToChinese(filterTotalPrice);\n            totalPriceCN = numToChinese(totalPrice);\n            company = __webpack_require__(/*! ../config */ "./src/config.js").config.company;\n\n            if (!(data === null || data.rows !== undefined && data.rows.length === 0)) {\n              _context2.next = 40;\n              break;\n            }\n\n            return _context2.abrupt("return", {\n              code: 205,\n              msg: "没有对应工单！"\n            });\n\n          case 40:\n            return _context2.abrupt("return", {\n              code: 0,\n              msg: "查找成功！",\n              data: Array.isArray(data.rows) ? data.rows.map(function (d) {\n                return _objectSpread(_objectSpread({}, JSON.parse(JSON.stringify(d))), {}, {\n                  company: company\n                });\n              }) : _objectSpread(_objectSpread({}, JSON.parse(JSON.stringify(data))), {}, {\n                company: company\n              }),\n              length: data.count || 0,\n              filterTotalPrice: filterTotalPrice,\n              filterTotalPriceCN: filterTotalPriceCN,\n              totalPrice: totalPrice,\n              totalPriceCN: totalPriceCN\n            });\n\n          case 41:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.delBill = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(id) {\n    var data;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            data = {};\n            _context3.prev = 1;\n            _context3.next = 4;\n            return bills.findOne({\n              where: {\n                id: id\n              }\n            });\n\n          case 4:\n            data = _context3.sent;\n            _context3.next = 10;\n            break;\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3["catch"](1);\n            return _context3.abrupt("return", {\n              code: 1,\n              msg: "\\u5220\\u9664\\u5DE5\\u5355\\u5931\\u8D25\\uFF01".concat(JSON.stringify(_context3.t0))\n            });\n\n          case 10:\n            data.deleted = true;\n            _context3.prev = 11;\n            _context3.next = 14;\n            return data.save();\n\n          case 14:\n            _context3.next = 19;\n            break;\n\n          case 16:\n            _context3.prev = 16;\n            _context3.t1 = _context3["catch"](11);\n            return _context3.abrupt("return", {\n              code: 1,\n              msg: "\\u5220\\u9664\\u5DE5\\u5355\\u5931\\u8D25\\uFF01".concat(JSON.stringify(_context3.t1))\n            });\n\n          case 19:\n            return _context3.abrupt("return", {\n              code: 0,\n              msg: "删除工单成功！"\n            });\n\n          case 20:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[1, 7], [11, 16]]);\n  }));\n\n  return function (_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack:///./src/db/billManagement.js?'
        );

        /***/
      },

    /***/ "./src/db/customerSource.js":
      /*!**********************************!*\
  !*** ./src/db/customerSource.js ***!
  \**********************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ./dataBase */ "./src/db/dataBase.js"),\n    customerSource = _require.customerSource,\n    repairType = _require.repairType,\n    cars = _require.cars,\n    carInfo = _require.carInfo;\n\nexports.createCustomerSource = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(names) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return createByName(customerSource, names);\n\n          case 2:\n            return _context.abrupt("return", {\n              code: 0,\n              msg: "新建客户来源成功！"\n            });\n\n          case 3:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.getCustomerSource = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var data;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return customerSource.findAll();\n\n        case 2:\n          data = _context2.sent;\n          return _context2.abrupt("return", {\n            code: 0,\n            data: data\n          });\n\n        case 4:\n        case "end":\n          return _context2.stop();\n      }\n    }\n  }, _callee2);\n}));\n\nexports.delCustomerSource = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(name) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return customerSource.destroy({\n              where: {\n                name: name\n              }\n            });\n\n          case 2:\n            return _context3.abrupt("return", {\n              code: 0,\n              msg: "删除客户来源成功！"\n            });\n\n          case 3:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar createRepairTypes = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(names) {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return createByName(repairType, names);\n\n          case 2:\n            return _context4.abrupt("return", {\n              code: 0,\n              msg: "新建维修类型成功！"\n            });\n\n          case 3:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function createRepairTypes(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexports.createRepairTypes = createRepairTypes;\nexports.getRepairTypes = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n  var data;\n  return regeneratorRuntime.wrap(function _callee5$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return repairType.findAll();\n\n        case 2:\n          data = _context5.sent;\n          return _context5.abrupt("return", {\n            code: 0,\n            data: data\n          });\n\n        case 4:\n        case "end":\n          return _context5.stop();\n      }\n    }\n  }, _callee5);\n}));\n\nexports.delRepairType = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(name) {\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return repairType.destroy({\n              where: {\n                name: name\n              }\n            });\n\n          case 2:\n            return _context6.abrupt("return", {\n              code: 0,\n              msg: "删除维修类型成功！"\n            });\n\n          case 3:\n          case "end":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function (_x4) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar createCars = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(names) {\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return createByName(cars, names);\n\n          case 2:\n            return _context7.abrupt("return", {\n              code: 0,\n              msg: "新建车系成功！"\n            });\n\n          case 3:\n          case "end":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function createCars(_x5) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nexports.createCars = createCars;\nexports.getCars = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n  var data;\n  return regeneratorRuntime.wrap(function _callee8$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return cars.findAll();\n\n        case 2:\n          data = _context8.sent;\n          return _context8.abrupt("return", {\n            code: 0,\n            data: data\n          });\n\n        case 4:\n        case "end":\n          return _context8.stop();\n      }\n    }\n  }, _callee8);\n}));\n\nexports.delCar = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(name) {\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.next = 2;\n            return cars.destroy({\n              where: {\n                name: name\n              }\n            });\n\n          case 2:\n            return _context9.abrupt("return", {\n              code: 0,\n              msg: "删除车系成功！"\n            });\n\n          case 3:\n          case "end":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n\n  return function (_x6) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nvar createCarInfo = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10(defaults) {\n    var numberPlate, id, data, created, _yield$carInfo$findOr, _yield$carInfo$findOr2;\n\n    return regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            // 新建车辆信息\n            numberPlate = defaults.numberPlate, id = defaults.id;\n            data = null, created = false;\n\n            if (!(id !== undefined)) {\n              _context10.next = 9;\n              break;\n            }\n\n            _context10.next = 5;\n            return carInfo.findByPk(id);\n\n          case 5:\n            data = _context10.sent;\n            created = false;\n            _context10.next = 15;\n            break;\n\n          case 9:\n            _context10.next = 11;\n            return carInfo.findOrCreate({\n              where: {\n                numberPlate: numberPlate.toString().toUpperCase()\n              },\n              defaults: defaults\n            });\n\n          case 11:\n            _yield$carInfo$findOr = _context10.sent;\n            _yield$carInfo$findOr2 = _slicedToArray(_yield$carInfo$findOr, 2);\n            data = _yield$carInfo$findOr2[0];\n            created = _yield$carInfo$findOr2[1];\n\n          case 15:\n            if (!(data === null)) {\n              _context10.next = 17;\n              break;\n            }\n\n            return _context10.abrupt("return", {\n              code: 205,\n              msg: "未找到车辆信息！"\n            });\n\n          case 17:\n            if (created) {\n              _context10.next = 21;\n              break;\n            }\n\n            Object.keys(defaults).forEach(function (key) {\n              var tmp = defaults[key];\n\n              if (![undefined, null, ""].some(function (t) {\n                return t === tmp;\n              })) {\n                data[key] = tmp;\n              }\n            });\n            _context10.next = 21;\n            return data.save();\n\n          case 21:\n            return _context10.abrupt("return", {\n              code: 0,\n              msg: "".concat(created ? "新建" : "更新", "\\u8F66\\u8F86\\u4FE1\\u606F\\u6210\\u529F\\uFF01")\n            });\n\n          case 22:\n          case "end":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n\n  return function createCarInfo(_x7) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nexports.createCarInfo = createCarInfo;\n\nexports.queryCarInfoLike = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11(params) {\n    var options, keys, i, len, key, data;\n    return regeneratorRuntime.wrap(function _callee11$(_context11) {\n      while (1) {\n        switch (_context11.prev = _context11.next) {\n          case 0:\n            options = {\n              where: {}\n            };\n            keys = Object.keys(params);\n            i = 0, len = keys.length;\n\n          case 3:\n            if (!(i < len)) {\n              _context11.next = 11;\n              break;\n            }\n\n            key = keys[i];\n\n            if (!(key === "limit" || key === "offset" || params[key] === undefined || params[key] === null)) {\n              _context11.next = 7;\n              break;\n            }\n\n            return _context11.abrupt("continue", 8);\n\n          case 7:\n            if (key === "id") {\n              options.where[key] = params[key];\n            } else {\n              options.where[key] = {\n                $like: "%".concat(key === "numberPlate" ? params[key].toString().toUpperCase() : params[key], "%")\n              };\n            }\n\n          case 8:\n            i++;\n            _context11.next = 3;\n            break;\n\n          case 11:\n            if (!isNaN(Number(params.limit))) {\n              options.limit = Number(params.limit);\n            }\n\n            if (!isNaN(Number(params.offset))) {\n              options.offset = Number(params.offset);\n            } // 模糊查询车辆信息\n\n\n            _context11.next = 15;\n            return carInfo.findAndCountAll(options);\n\n          case 15:\n            data = _context11.sent;\n            return _context11.abrupt("return", {\n              code: 0,\n              data: data.rows,\n              length: data.count || 0\n            });\n\n          case 17:\n          case "end":\n            return _context11.stop();\n        }\n      }\n    }, _callee11);\n  }));\n\n  return function (_x8) {\n    return _ref11.apply(this, arguments);\n  };\n}();\n\nexports.delCarInfo = /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12(id) {\n    return regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            _context12.next = 2;\n            return carInfo.destroy({\n              where: {\n                id: id\n              }\n            });\n\n          case 2:\n            return _context12.abrupt("return", {\n              code: 0,\n              msg: "删除客户信息成功！"\n            });\n\n          case 3:\n          case "end":\n            return _context12.stop();\n        }\n      }\n    }, _callee12);\n  }));\n\n  return function (_x9) {\n    return _ref12.apply(this, arguments);\n  };\n}();\n\nfunction createByName(model, names) {\n  if (!Array.isArray(names)) {\n    names = [names];\n  }\n\n  return Promise.all(names.map(function (name) {\n    return model.findOrCreate({\n      where: {\n        name: name.trim()\n      }\n    });\n  }));\n}\n\n//# sourceURL=webpack:///./src/db/customerSource.js?'
        );

        /***/
      },

    /***/ "./src/db/dataBase.js":
      /*!****************************!*\
  !*** ./src/db/dataBase.js ***!
  \****************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Sequelize = __webpack_require__(/*! sequelize */ "sequelize");\n\nvar Op = Sequelize.Op;\nvar operatorsAliases = {\n  $eq: Op.eq,\n  $ne: Op.ne,\n  $gte: Op.gte,\n  $gt: Op.gt,\n  $lte: Op.lte,\n  $lt: Op.lt,\n  $not: Op.not,\n  $in: Op["in"],\n  $notIn: Op.notIn,\n  $is: Op.is,\n  $like: Op.like,\n  $notLike: Op.notLike,\n  $iLike: Op.iLike,\n  $notILike: Op.notILike,\n  $regexp: Op.regexp,\n  $notRegexp: Op.notRegexp,\n  $iRegexp: Op.iRegexp,\n  $notIRegexp: Op.notIRegexp,\n  $between: Op.between,\n  $notBetween: Op.notBetween,\n  $overlap: Op.overlap,\n  $contains: Op.contains,\n  $contained: Op.contained,\n  $adjacent: Op.adjacent,\n  $strictLeft: Op.strictLeft,\n  $strictRight: Op.strictRight,\n  $noExtendRight: Op.noExtendRight,\n  $noExtendLeft: Op.noExtendLeft,\n  $and: Op.and,\n  $or: Op.or,\n  $any: Op.any,\n  $all: Op.all,\n  $values: Op.values,\n  $col: Op.col\n};\n\nvar db = __webpack_require__(/*! ../config */ "./src/config.js").config.db; //初始化数据库连接\n\n\nvar sequelize = new Sequelize(db.dbName, db.username, db.password, _objectSpread(_objectSpread({}, db.dbConfig), {}, {\n  operatorsAliases: operatorsAliases\n}));\nexports.Sequelize = Sequelize;\nexports.sequelize = sequelize; // 用户表\n\nvar User = sequelize["define"]("user", {\n  username: {\n    // 用户名\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  // 密码\n  password: {\n    type: Sequelize.STRING,\n    allowNull: false,\n    select: false\n  },\n  // 是否是管理员\n  isAdmin: {\n    // 是否拥有管理员权限，默认否\n    type: Sequelize.BOOLEAN,\n    allowNull: false,\n    defaultValue: false\n  }\n});\nexports.User = User; // 用户操作表\n\nvar UserLog = sequelize["define"]("userLog", {\n  username: {\n    // 用户名\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  // 登陆时间\n  loginTime: {\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  // 登出时间\n  logoutTime: {\n    type: Sequelize.STRING,\n    allowNull: false,\n    defaultValue: ""\n  },\n  // 设备信息\n  device: {\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  // 设备ID\n  deviceID: {\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  // 动作\n  action: {\n    type: Sequelize.STRING,\n    allowNull: false,\n    defaultValue: ""\n  },\n  // X-Forwarded-For获取的ip\n  ip: {\n    type: Sequelize.STRING,\n    allowNull: false,\n    defaultValue: ""\n  },\n  // nginx获取的ip\n  realIP: {\n    type: Sequelize.STRING,\n    allowNull: false,\n    defaultValue: ""\n  }\n});\nexports.UserLog = UserLog; // 客户来源表\n\nvar customerSource = sequelize["define"]("customerSource", {\n  name: {\n    // 客户来源\n    type: Sequelize.STRING,\n    allowNull: false\n  }\n});\nexports.customerSource = customerSource; // 维修类型表\n\nvar repairType = sequelize["define"]("repairType", {\n  name: {\n    // 维修类型名称\n    type: Sequelize.STRING,\n    allowNull: false\n  }\n});\nexports.repairType = repairType; // 车系表\n\nvar cars = sequelize["define"]("cars", {\n  name: {\n    // 车系名称\n    type: Sequelize.STRING,\n    allowNull: false\n  }\n});\nexports.cars = cars; // 车辆信息\n\nvar carInfo = sequelize["define"]("carInfo", {\n  numberPlate: {\n    // 车牌号\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  car: {\n    // 车系\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  ownerName: {\n    // 车主姓名\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  VIN: {\n    // VIN\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  phone: {\n    // 车主手机\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  mileage: {\n    // 进场里程\n    type: Sequelize.DOUBLE,\n    allowNull: false\n  },\n  session: {\n    // session\n    type: Sequelize.STRING,\n    allowNull: false,\n    select: false\n  },\n  deviceID: {\n    // 设备指纹\n    type: Sequelize.STRING,\n    allowNull: false,\n    select: false\n  }\n});\nexports.carInfo = carInfo; // 工单\n\nvar bills = sequelize["define"]("bills", {\n  order: {\n    // 工单号\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  source: {\n    // 客户来源\n    type: Sequelize.JSON,\n    allowNull: false\n  },\n  repairTypes: {\n    // 维修类型\n    type: Sequelize.JSON,\n    allowNull: false\n  },\n  remarks: {\n    // 备注\n    type: Sequelize.TEXT,\n    allowNull: false\n  },\n  numberPlate: {\n    // 车牌号\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  car: {\n    // 车系\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  VIN: {\n    // VIN\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  ownerName: {\n    // 车主姓名\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  phone: {\n    // 车主手机\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  mileage: {\n    // 进场里程\n    type: Sequelize.DOUBLE,\n    allowNull: false,\n    defaultValue: 0\n  },\n  maintenanceItems: {\n    // 维修项目\n    type: Sequelize.JSON,\n    allowNull: false\n  },\n  receivable: {\n    // 应收金额\n    type: Sequelize.DOUBLE,\n    allowNull: false,\n    defaultValue: 0\n  },\n  receipts: {\n    // 实收金额\n    type: Sequelize.DOUBLE,\n    allowNull: false,\n    defaultValue: 0\n  },\n  deviceID: {\n    // 设备ID\n    type: Sequelize.STRING,\n    allowNull: false,\n    select: false\n  },\n  session: {\n    // session\n    type: Sequelize.STRING,\n    allowNull: false,\n    select: false\n  },\n  finished: {\n    // 是否完成交易\n    type: Sequelize.BOOLEAN,\n    defaultValue: false\n  },\n  deleted: {\n    // 是否删除\n    type: Sequelize.BOOLEAN,\n    defaultValue: false\n  }\n});\nexports.bills = bills; // 库存\n\nvar inventory = sequelize["define"]("inventory", {\n  name: {\n    // 名称\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  supplier: {\n    // 供货商\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  type: {\n    // 配件种类\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  code: {\n    // 配件代码\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  count: {\n    // 库存量\n    type: Sequelize.INTEGER,\n    allowNull: false\n  },\n  costPrice: {\n    // 成本价\n    type: Sequelize.DOUBLE,\n    allowNull: false\n  },\n  totalCostPrice: {\n    // 成本金额\n    type: Sequelize.DOUBLE,\n    allowNull: false\n  },\n  sellingPrice: {\n    // 销售价\n    type: Sequelize.DOUBLE,\n    allowNull: false\n  },\n  lastPurchasePrice: {\n    // 最新进价\n    type: Sequelize.DOUBLE,\n    allowNull: false\n  },\n  guidePrice: {\n    // 销售指导价\n    type: Sequelize.DOUBLE,\n    allowNull: false\n  },\n  unit: {\n    // 单位\n    type: Sequelize.STRING,\n    allowNull: false\n  },\n  minCount: {\n    // 最小包装数\n    type: Sequelize.INTEGER,\n    allowNull: false\n  },\n  storageTime: {\n    // 最新入库时间\n    type: Sequelize.DATE,\n    allowNull: false\n  },\n  deliveryTime: {\n    // 最新出库时间\n    type: Sequelize.DATE,\n    defaultValue: null\n  },\n  session: {\n    // session\n    type: Sequelize.STRING,\n    allowNull: false,\n    select: false\n  },\n  deviceID: {\n    // 设备指纹\n    type: Sequelize.STRING,\n    allowNull: false,\n    select: false\n  }\n});\nexports.inventory = inventory; // 财务信息\n\nvar finance = sequelize["define"]("finance", {\n  month: {\n    // 月份\n    type: Sequelize.DATE,\n    allowNull: false\n  },\n  remarks: {\n    // 备注\n    type: Sequelize.TEXT,\n    defaultValue: ""\n  },\n  monthlyOrderAmount: {\n    // 月订购金额\n    type: Sequelize.DOUBLE,\n    defaultValue: 0\n  },\n  session: {\n    // session\n    type: Sequelize.STRING,\n    allowNull: false,\n    select: false\n  },\n  deviceID: {\n    // 设备指纹\n    type: Sequelize.STRING,\n    allowNull: false,\n    select: false\n  }\n});\nexports.finance = finance;\nexports.initDB = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var res;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          res = {};\n          _context.prev = 1;\n          _context.next = 4;\n          return sequelize.authenticate();\n\n        case 4:\n          console.log("数据库连接成功！");\n          _context.next = 7;\n          return sequelize.sync({\n            alter: true\n          });\n\n        case 7:\n          res = {\n            code: 0,\n            msg: "数据库同步成功"\n          };\n          console.log("数据库同步成功！");\n          _context.next = 15;\n          break;\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context["catch"](1);\n          console.log("数据库同步失败：", chalk.red(JSON.stringify(_context.t0)));\n          res = {\n            code: 1,\n            msg: "\\u6570\\u636E\\u5E93\\u540C\\u6B65\\u5931\\u8D25\\uFF1A".concat(JSON.stringify(_context.t0))\n          };\n\n        case 15:\n          return _context.abrupt("return", res);\n\n        case 16:\n        case "end":\n          return _context.stop();\n      }\n    }\n  }, _callee, null, [[1, 11]]);\n}));\n\n//# sourceURL=webpack:///./src/db/dataBase.js?'
        );

        /***/
      },

    /***/ "./src/db/finance.js":
      /*!***************************!*\
  !*** ./src/db/finance.js ***!
  \***************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ./dataBase */ "./src/db/dataBase.js"),\n    bills = _require.bills,\n    finance = _require.finance,\n    inventory = _require.inventory;\n\nvar findOrCreateFinance = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(month) {\n    var newRemarks,\n        session,\n        deviceID,\n        count,\n        income,\n        materialCost,\n        grossProfit,\n        monthlyOrderAmount,\n        inventoryAmount,\n        remarks,\n        queryMonth,\n        filterBills,\n        _iterator,\n        _step,\n        item,\n        _iterator3,\n        _step3,\n        inv,\n        findInv,\n        allInventory,\n        _iterator2,\n        _step2,\n        _inv,\n        _yield$finance$findOr,\n        _yield$finance$findOr2,\n        data,\n        created,\n        _args = arguments;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            newRemarks = _args.length > 1 && _args[1] !== undefined ? _args[1] : "";\n            session = _args.length > 2 ? _args[2] : undefined;\n            deviceID = _args.length > 3 ? _args[3] : undefined;\n            count = 0, income = 0, materialCost = 0, grossProfit = 0, monthlyOrderAmount = 0, inventoryAmount = 0, remarks = newRemarks;\n            yellowLog(month.split("-"));\n            queryMonth = _construct(Date, _toConsumableArray(month.split("-")));\n            yellowLog(queryMonth);\n            _context.next = 9;\n            return bills.findAll({\n              where: {\n                finished: true,\n                updatedAt: {\n                  $gte: new Date(queryMonth.getFullYear(), queryMonth.getMonth(), 1),\n                  $lt: new Date(queryMonth.getFullYear(), queryMonth.getMonth() + 1, 1)\n                }\n              }\n            });\n\n          case 9:\n            filterBills = _context.sent;\n            _iterator = _createForOfIteratorHelper(filterBills);\n            _context.prev = 11;\n\n            _iterator.s();\n\n          case 13:\n            if ((_step = _iterator.n()).done) {\n              _context.next = 37;\n              break;\n            }\n\n            item = _step.value;\n            _iterator3 = _createForOfIteratorHelper(item.maintenanceItems);\n            _context.prev = 16;\n\n            _iterator3.s();\n\n          case 18:\n            if ((_step3 = _iterator3.n()).done) {\n              _context.next = 27;\n              break;\n            }\n\n            inv = _step3.value;\n            _context.next = 22;\n            return inventory.findByPk(inv.id);\n\n          case 22:\n            findInv = _context.sent;\n            income += findInv.sellingPrice * inv["count"] * (inv["discount"] / 100);\n            materialCost += findInv.costPrice * inv["count"];\n\n          case 25:\n            _context.next = 18;\n            break;\n\n          case 27:\n            _context.next = 32;\n            break;\n\n          case 29:\n            _context.prev = 29;\n            _context.t0 = _context["catch"](16);\n\n            _iterator3.e(_context.t0);\n\n          case 32:\n            _context.prev = 32;\n\n            _iterator3.f();\n\n            return _context.finish(32);\n\n          case 35:\n            _context.next = 13;\n            break;\n\n          case 37:\n            _context.next = 42;\n            break;\n\n          case 39:\n            _context.prev = 39;\n            _context.t1 = _context["catch"](11);\n\n            _iterator.e(_context.t1);\n\n          case 42:\n            _context.prev = 42;\n\n            _iterator.f();\n\n            return _context.finish(42);\n\n          case 45:\n            _context.next = 47;\n            return inventory.findAll();\n\n          case 47:\n            allInventory = _context.sent;\n            _iterator2 = _createForOfIteratorHelper(allInventory);\n\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                _inv = _step2.value;\n                inventoryAmount += _inv.costPrice * _inv.count;\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n\n            count = filterBills.length;\n            grossProfit = income - materialCost;\n            _context.next = 54;\n            return finance.findOrCreate({\n              where: {\n                month: queryMonth\n              },\n              defaults: {\n                month: month,\n                session: session,\n                deviceID: deviceID\n              }\n            });\n\n          case 54:\n            _yield$finance$findOr = _context.sent;\n            _yield$finance$findOr2 = _slicedToArray(_yield$finance$findOr, 2);\n            data = _yield$finance$findOr2[0];\n            created = _yield$finance$findOr2[1];\n\n            if (!created && newRemarks) {\n              data.remarks = newRemarks;\n            }\n\n            monthlyOrderAmount = data.monthlyOrderAmount;\n            return _context.abrupt("return", {\n              code: 0,\n              data: {\n                count: count,\n                income: income,\n                materialCost: materialCost,\n                grossProfit: grossProfit,\n                inventoryAmount: inventoryAmount,\n                monthlyOrderAmount: monthlyOrderAmount,\n                remarks: remarks\n              },\n              msg: "查找成功"\n            });\n\n          case 61:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[11, 39, 42, 45], [16, 29, 32, 35]]);\n  }));\n\n  return function findOrCreateFinance(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.findOrCreateFinance = findOrCreateFinance;\n\nexports.annualStatisticsFinance = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(year, session, deviceID) {\n    var data, monthIncome, monthProfit, i, _i2, len;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            data = Array.from({\n              length: 12\n            }, function () {\n              return {};\n            });\n            monthIncome = Array.from({\n              length: 12\n            }, function () {\n              return 0;\n            });\n            monthProfit = Array.from({\n              length: 12\n            }, function () {\n              return 0;\n            });\n            i = 0;\n\n          case 4:\n            if (!(i < 12)) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.next = 7;\n            return findOrCreateFinance("".concat(year, "-").concat(i, "-1"), "", session, deviceID);\n\n          case 7:\n            data[i] = _context2.sent;\n\n          case 8:\n            i++;\n            _context2.next = 4;\n            break;\n\n          case 11:\n            for (_i2 = 0, len = data.length; _i2 < len; _i2++) {\n              monthIncome[_i2] = data[_i2].data.income;\n              monthProfit[_i2] = data[_i2].data.grossProfit;\n            }\n\n            return _context2.abrupt("return", {\n              code: 0,\n              data: {\n                monthIncome: monthIncome,\n                monthProfit: monthProfit\n              }\n            });\n\n          case 13:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x2, _x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack:///./src/db/finance.js?'
        );

        /***/
      },

    /***/ "./src/db/inventory.js":
      /*!*****************************!*\
  !*** ./src/db/inventory.js ***!
  \*****************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ./dataBase */ "./src/db/dataBase.js"),\n    inventory = _require.inventory,\n    finance = _require.finance;\n\nexports.saveInventory = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(params) {\n    var supplier, type, code, name, count, costPrice, sellingPrice, lastPurchasePrice, guidePrice, unit, minCount, deliveryTime, deviceID, session, id, defaults, _yield$inventory$find, _yield$inventory$find2, data, created;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            supplier = params.supplier, type = params.type, code = params.code, name = params.name, count = params.count, costPrice = params.costPrice, sellingPrice = params.sellingPrice, lastPurchasePrice = params.lastPurchasePrice, guidePrice = params.guidePrice, unit = params.unit, minCount = params.minCount, deliveryTime = params.deliveryTime, deviceID = params.deviceID, session = params.session, id = params.id;\n            id = id || "";\n            defaults = {\n              supplier: supplier,\n              type: type,\n              code: code,\n              name: name,\n              count: count,\n              costPrice: costPrice,\n              totalCostPrice: costPrice * count,\n              sellingPrice: sellingPrice,\n              lastPurchasePrice: lastPurchasePrice,\n              unit: unit,\n              minCount: minCount,\n              storageTime: new Date(),\n              deviceID: deviceID,\n              session: session\n            };\n\n            if (deliveryTime) {\n              defaults.deliveryTime = deliveryTime;\n            }\n\n            if (guidePrice !== undefined) {\n              defaults.guidePrice = guidePrice;\n            }\n\n            _context.next = 7;\n            return inventory.findOrCreate({\n              where: {\n                id: id\n              },\n              defaults: defaults\n            });\n\n          case 7:\n            _yield$inventory$find = _context.sent;\n            _yield$inventory$find2 = _slicedToArray(_yield$inventory$find, 2);\n            data = _yield$inventory$find2[0];\n            created = _yield$inventory$find2[1];\n\n            if (created) {\n              _context.next = 15;\n              break;\n            }\n\n            Object.keys(defaults).forEach(function (key) {\n              data[key] = defaults[key];\n            });\n            _context.next = 15;\n            return data.save();\n\n          case 15:\n            return _context.abrupt("return", {\n              code: 0,\n              msg: created ? "保存成功！" : "更新成功！",\n              data: data.id\n            });\n\n          case 16:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.queryInventory = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(params) {\n    var tmp, where, keys, onlyID, _loop, i, len, _ret, data, options;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            tmp = {\n              id: "",\n              supplier: "",\n              name: "",\n              type: "",\n              code: "",\n              createdAtInterval: [],\n              updatedAtInterval: [],\n              counts: [0, 0],\n              limit: "",\n              offset: ""\n            };\n            where = {};\n            keys = Object.keys(tmp);\n            onlyID = !!params.id;\n\n            _loop = function _loop(i, len) {\n              var key = keys[i];\n\n              if (key === "limit" || key === "offset") {\n                return "continue";\n              }\n\n              if (key === "createdAtInterval") {\n                if (Array.isArray(params[key]) && params[key].length === 2) {\n                  where["storageTime"] = {\n                    $gte: new Date(params[key][0]),\n                    $lte: new Date(params[key][1])\n                  };\n                }\n              } else if (key === "updatedAtInterval") {\n                if (Array.isArray(params[key]) && params[key].length === 2) {\n                  where["deliveryTime"] = {\n                    $gte: new Date(params[key][0]),\n                    $lte: new Date(params[key][1])\n                  };\n                }\n              } else if (key === "counts") {\n                if (Number(params[key][0]) !== 0 && Number(params[key][1]) !== 0) {\n                  where["count"] = {\n                    $gte: Number(params[key][0]),\n                    $lte: Number(params[key][1])\n                  };\n                }\n              } else if (!["", undefined, null].some(function (t) {\n                return t === params[key];\n              })) {\n                if (key === "id") {\n                  where[key] = params[key];\n                } else {\n                  where[key] = {\n                    $like: "%".concat(params[key], "%")\n                  };\n                }\n              }\n            };\n\n            i = 0, len = keys.length;\n\n          case 6:\n            if (!(i < len)) {\n              _context2.next = 13;\n              break;\n            }\n\n            _ret = _loop(i, len);\n\n            if (!(_ret === "continue")) {\n              _context2.next = 10;\n              break;\n            }\n\n            return _context2.abrupt("continue", 10);\n\n          case 10:\n            i++;\n            _context2.next = 6;\n            break;\n\n          case 13:\n            data = null;\n            options = {\n              where: where\n            };\n\n            if (params.limit !== undefined) {\n              options.limit = Number(params.limit);\n            }\n\n            if (params.offset !== undefined) {\n              options.offset = Number(params.offset);\n            }\n\n            if (!onlyID) {\n              _context2.next = 23;\n              break;\n            }\n\n            _context2.next = 20;\n            return inventory.findOne(options);\n\n          case 20:\n            data = _context2.sent;\n            _context2.next = 26;\n            break;\n\n          case 23:\n            _context2.next = 25;\n            return inventory.findAndCountAll(options);\n\n          case 25:\n            data = _context2.sent;\n\n          case 26:\n            if (!(data === null || data.rows !== undefined && data.rows.length === 0)) {\n              _context2.next = 28;\n              break;\n            }\n\n            return _context2.abrupt("return", {\n              code: 205,\n              msg: "未找到库存！"\n            });\n\n          case 28:\n            return _context2.abrupt("return", {\n              code: 0,\n              msg: "查找成功！",\n              data: Array.isArray(data.rows) ? data.rows.map(function (d) {\n                return _objectSpread({}, JSON.parse(JSON.stringify(d)));\n              }) : _objectSpread({}, JSON.parse(JSON.stringify(data))),\n              length: data.count || 0\n            });\n\n          case 29:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.delInventory = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(id) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return inventory.destroy({\n              where: {\n                id: id\n              }\n            });\n\n          case 2:\n            return _context3.abrupt("return", {\n              code: 0,\n              msg: "删除库存成功！"\n            });\n\n          case 3:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexports.queryInventoryAttrs = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(attr, q, query) {\n    var data, _where, filter;\n\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            data = null;\n\n            if (!(query !== undefined)) {\n              _context4.next = 10;\n              break;\n            }\n\n            _where = {};\n            yellowLog(attr, query);\n            _where[attr] = {\n              $like: "%".concat(query, "%")\n            };\n            _context4.next = 7;\n            return inventory.findAll({\n              where: _where\n            });\n\n          case 7:\n            data = _context4.sent;\n            _context4.next = 15;\n            break;\n\n          case 10:\n            _context4.next = 12;\n            return inventory.findAll({\n              attributes: [attr]\n            });\n\n          case 12:\n            filter = _context4.sent;\n            data = new Set();\n            filter.forEach(function (d) {\n              if (d[attr].match(q)) {\n                data["add"](d[attr]);\n              }\n            });\n\n          case 15:\n            yellowLog(data);\n            return _context4.abrupt("return", {\n              code: 0,\n              msg: "查询成功！",\n              data: _toConsumableArray(data)\n            });\n\n          case 17:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function (_x4, _x5, _x6) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack:///./src/db/inventory.js?'
        );

        /***/
      },

    /***/ "./src/db/main.js":
      /*!************************!*\
  !*** ./src/db/main.js ***!
  \************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ./dataBase */ "./src/db/dataBase.js"),\n    initDB = _require.initDB;\n\nexports.main = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return initDB();\n\n        case 2:\n          _context.next = 4;\n          return initSystem();\n\n        case 4:\n        case "end":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\n\nfunction initSystem() {\n  return _initSystem.apply(this, arguments);\n}\n\nfunction _initSystem() {\n  _initSystem = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var checkAdminAndCreate;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return __webpack_require__(/*! ./user */ "./src/db/user.js").checkAdminAndCreate();\n\n          case 2:\n            checkAdminAndCreate = _context2.sent;\n            return _context2.abrupt("return", {\n              checkAdminAndCreate: checkAdminAndCreate\n            });\n\n          case 4:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _initSystem.apply(this, arguments);\n}\n\n//# sourceURL=webpack:///./src/db/main.js?'
        );

        /***/
      },

    /***/ "./src/db/user.js":
      /*!************************!*\
  !*** ./src/db/user.js ***!
  \************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar uuidV1 = __webpack_require__(/*! uuid */ "uuid").v1;\n\nvar _require = __webpack_require__(/*! ../pubFn/db */ "./src/pubFn/db.js"),\n    tableFilter = _require.tableFilter;\n\nvar _require2 = __webpack_require__(/*! ../crypto/main */ "./src/crypto/main.js"),\n    cryptoPassword = _require2.cryptoPassword;\n\nvar _require3 = __webpack_require__(/*! ./dataBase */ "./src/db/dataBase.js"),\n    User = _require3.User,\n    UserLog = _require3.UserLog;\n\nfunction createUser(_x, _x2) {\n  return _createUser.apply(this, arguments);\n}\n\nfunction _createUser() {\n  _createUser = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(username, password) {\n    var isAdmin,\n        filterUsers,\n        _args4 = arguments;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            isAdmin = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : false;\n            _context4.next = 3;\n            return tableFilter(User, ["username", username]);\n\n          case 3:\n            filterUsers = _context4.sent;\n\n            if (!filterUsers.length) {\n              _context4.next = 8;\n              break;\n            }\n\n            return _context4.abrupt("return", {\n              code: 1,\n              msg: "用户名已存在！"\n            });\n\n          case 8:\n            _context4.next = 10;\n            return User.create({\n              username: username,\n              password: cryptoPassword(password),\n              isAdmin: isAdmin\n            });\n\n          case 10:\n            return _context4.abrupt("return", {\n              code: 0,\n              msg: "新建成功！"\n            });\n\n          case 11:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _createUser.apply(this, arguments);\n}\n\nexports.checkAdminAndCreate = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var filterUsers;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return tableFilter(User, ["isAdmin", true]);\n\n        case 2:\n          filterUsers = _context.sent;\n\n          if (filterUsers.length) {\n            _context.next = 7;\n            break;\n          }\n\n          _context.next = 6;\n          return createUser("admin", "123456", true);\n\n        case 6:\n          return _context.abrupt("return", {\n            code: 0,\n            msg: "管理员新建成功！"\n          });\n\n        case 7:\n          return _context.abrupt("return", {\n            code: 1,\n            msg: "管理员已存在！"\n          });\n\n        case 8:\n        case "end":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\n\nexports.userLogin = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(username, password, device, deviceID, session, ip, realIP) {\n    var filterUsers, _require4, sessionPool, index;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return tableFilter(User, ["username", username]);\n\n          case 2:\n            filterUsers = _context2.sent;\n\n            if (!(filterUsers.length === 0)) {\n              _context2.next = 7;\n              break;\n            }\n\n            return _context2.abrupt("return", {\n              code: 1,\n              msg: "用户名不存在！"\n            });\n\n          case 7:\n            if (!(cryptoPassword(password) === filterUsers[0]["dataValues"].password)) {\n              _context2.next = 18;\n              break;\n            }\n\n            session = session || uuidV1();\n            _require4 = __webpack_require__(/*! ../session/sessionPool */ "./src/session/sessionPool.js"), sessionPool = _require4.sessionPool;\n            index = sessionPool.findIndex(function (s) {\n              return s.session === session && s.deviceID === deviceID;\n            });\n            index > -1 && sessionPool.splice(index, 1);\n            sessionPool.push({\n              session: session,\n              username: username,\n              device: device,\n              deviceID: deviceID,\n              ip: ip,\n              realIP: realIP\n            });\n            _context2.next = 15;\n            return userLog(username, device, deviceID, ip, realIP, "登录系统");\n\n          case 15:\n            return _context2.abrupt("return", {\n              code: 0,\n              userInfo: {\n                username: username,\n                isAdmin: filterUsers[0].isAdmin\n              },\n              msg: "登录成功！",\n              session: session\n            });\n\n          case 18:\n            return _context2.abrupt("return", {\n              code: 2,\n              msg: "密码错误！"\n            });\n\n          case 19:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3, _x4, _x5, _x6, _x7, _x8, _x9) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nfunction userLog(_x10, _x11, _x12, _x13, _x14, _x15) {\n  return _userLog.apply(this, arguments);\n}\n\nfunction _userLog() {\n  _userLog = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(username, device, deviceID, ip, realIP, action) {\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return UserLog.create({\n              username: username,\n              device: device,\n              deviceID: deviceID,\n              action: action,\n              ip: ip,\n              realIP: realIP,\n              loginTime: new Date().getTime().toString()\n            });\n\n          case 2:\n            return _context5.abrupt("return", _context5.sent);\n\n          case 3:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _userLog.apply(this, arguments);\n}\n\nexports.userLogout = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(session) {\n    var _require5, sessionPool, index, _sessionPool$index, username, device, deviceID, ip, realIP;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _require5 = __webpack_require__(/*! ../session/sessionPool */ "./src/session/sessionPool.js"), sessionPool = _require5.sessionPool;\n            index = sessionPool.findIndex(function (s) {\n              return s.session === session;\n            });\n\n            if (!(index > -1)) {\n              _context3.next = 7;\n              break;\n            }\n\n            _sessionPool$index = sessionPool[index], username = _sessionPool$index.username, device = _sessionPool$index.device, deviceID = _sessionPool$index.deviceID, ip = _sessionPool$index.ip, realIP = _sessionPool$index.realIP;\n            sessionPool.slice(index, 1);\n            _context3.next = 7;\n            return userLog(username, device, deviceID, ip, realIP, "注销系统");\n\n          case 7:\n            return _context3.abrupt("return", {\n              code: 0,\n              msg: "注销成功！"\n            });\n\n          case 8:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x16) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack:///./src/db/user.js?'
        );

        /***/
      },

    /***/ "./src/main.js":
      /*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
      /*! no exports provided */
      /***/ function (module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa */ "koa");\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _session_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./session/auth */ "./src/session/auth.js");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\nvar chalk = __webpack_require__(/*! chalk */ "chalk");\n\nvar Router = __webpack_require__(/*! koa-router */ "koa-router");\n\nvar bodyParser = __webpack_require__(/*! koa-bodyparser */ "koa-bodyparser");\n\nvar path = __webpack_require__(/*! path */ "path");\n\nglobal.chalk = chalk;\n\nglobal.yellowLog = function () {\n  var _console;\n\n  for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n    params[_key] = arguments[_key];\n  }\n\n  for (var i = 0, len = params.length; i < len; i++) {\n    try {\n      params[i] = JSON.stringify(params[i]);\n    } catch (e) {\n      params[i] = params[i];\n    }\n  }\n\n  (_console = console).log.apply(_console, _toConsumableArray(params.map(function (p) {\n    return chalk.yellow(p);\n  })));\n};\n\nglobal.__static = path.resolve(__dirname, "./static/");\nvar app = new koa__WEBPACK_IMPORTED_MODULE_0___default.a();\nvar router = new Router(); // logger\n\napp.use( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(ctx, next) {\n    var rt;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return next();\n\n          case 2:\n            rt = ctx.response.get("X-Response-Time"); // console.log(`${ctx.method} ${ctx.url} - ${rt}`);\n\n          case 3:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}()); // x-response-time\n\napp.use( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(ctx, next) {\n    var start, ms;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            start = Date.now();\n            _context2.next = 3;\n            return next();\n\n          case 3:\n            ms = Date.now() - start;\n            ctx.set("X-Response-Time", "".concat(ms, "ms"));\n\n          case 5:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\napp.use(bodyParser());\napp.use(_session_auth__WEBPACK_IMPORTED_MODULE_1__["default"]);\n\nvar routes = __webpack_require__(/*! ./router/index */ "./src/router/index.js").routes(router);\n\napp.use(routes.routes()).use(routes.allowedMethods());\napp.listen(8900, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return __webpack_require__(/*! ./db/main */ "./src/db/main.js").main();\n\n        case 2:\n          console.log("启动成功");\n\n        case 3:\n        case "end":\n          return _context3.stop();\n      }\n    }\n  }, _callee3);\n})));\n\n//# sourceURL=webpack:///./src/main.js?'
        );

        /***/
      },

    /***/ "./src/pubFn/db.js":
      /*!*************************!*\
  !*** ./src/pubFn/db.js ***!
  \*************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'exports.tableFilter = function (model) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  // 根据条件检测内容是否存在，默认为用户名\n  var opt = {};\n  var preKey = "";\n\n  for (var i = 0, len = params.length; i < len; i++) {\n    if (i % 2) {\n      opt[preKey] = params[i];\n    } else {\n      preKey = params[i];\n    }\n  }\n\n  return model.findAll({\n    where: opt\n  });\n};\n\n//# sourceURL=webpack:///./src/pubFn/db.js?'
        );

        /***/
      },

    /***/ "./src/pubFn/libs.js":
      /*!***************************!*\
  !*** ./src/pubFn/libs.js ***!
  \***************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'exports.arraySum = function (items, key) {\n  return items.reduce(function (acc, cur) {\n    return acc + Number(key === undefined ? cur : cur[key]);\n  }, 0);\n};\n\nexports.numToChinese = function (n) {\n  var fraction = ["角", "分", "厘", "毫"];\n  var digit = ["零", "壹", "贰", "叁", "肆", "伍", "陆", "柒", "捌", "玖"];\n  var unit = [["份", "万", "亿"], ["", "拾", "佰", "仟"]];\n  var head = n < 0 ? "欠" : "";\n  n = Math.abs(n);\n  var s = "";\n\n  for (var i = 0; i < fraction.length; i++) {\n    s += (digit[Math.floor(n * 10 * Math.pow(10, i)) % 10] + fraction[i]).replace(/零./, "");\n  }\n\n  s = s || "整";\n  n = Math.floor(n);\n\n  for (var _i = 0; _i < unit[0].length && n > 0; _i++) {\n    var p = "";\n\n    for (var j = 0; j < unit[1].length && n > 0; j++) {\n      p = digit[n % 10] + unit[1][j] + p;\n      n = Math.floor(n / 10);\n    }\n\n    s = p.replace(/(零.)*零$/, "").replace(/^$/, "零") + unit[0][_i] + s;\n  }\n\n  return head + s.replace(/(零.)*零份/, "份").replace(/(零.)+/g, "零").replace(/^整$/, "零份整");\n};\n\n//# sourceURL=webpack:///./src/pubFn/libs.js?'
        );

        /***/
      },

    /***/ "./src/router/billManagement.js":
      /*!**************************************!*\
  !*** ./src/router/billManagement.js ***!
  \**************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar saveBill = function saveBill(router) {\n  router.post("/api/save-bill", /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(ctx) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return __webpack_require__(/*! ../db/billManagement */ "./src/db/billManagement.js").saveBill(ctx.request.body);\n\n            case 2:\n              ctx.body = _context.sent;\n\n            case 3:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar queryBill = function queryBill(router) {\n  router.post("/api/query-bill", /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(ctx) {\n      var params, body;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              params = {\n                finished: "",\n                id: "",\n                createdAtInterval: [],\n                order: "",\n                numberPlate: "",\n                VIN: "",\n                car: "",\n                limit: "",\n                offset: ""\n              };\n              body = ctx.request.body;\n              Object.keys(params).forEach(function (key) {\n                if (Array.isArray(body[key]) && body[key].length !== 0 || body[key] !== "" && body[key] !== undefined && body[key] !== null) {\n                  params[key] = body[key];\n                } else {\n                  delete params[key];\n                }\n              });\n              _context2.next = 5;\n              return __webpack_require__(/*! ../db/billManagement */ "./src/db/billManagement.js").queryBill(params);\n\n            case 5:\n              ctx.body = _context2.sent;\n\n            case 6:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar delBill = function delBill(router) {\n  router.post("/api/del-bill", /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(ctx) {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return __webpack_require__(/*! ../db/billManagement */ "./src/db/billManagement.js").delBill(ctx.request.body.id);\n\n            case 2:\n              ctx.body = _context3.sent;\n\n            case 3:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nexports.mutations = [saveBill, queryBill, delBill];\n\n//# sourceURL=webpack:///./src/router/billManagement.js?'
        );

        /***/
      },

    /***/ "./src/router/customerSource.js":
      /*!**************************************!*\
  !*** ./src/router/customerSource.js ***!
  \**************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar createCustomerSource = function createCustomerSource(router) {\n  router.post("/api/create-customer-source", /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(ctx) {\n      var customerSource;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              customerSource = ctx.request.body.customerSource;\n              _context.next = 3;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").createCustomerSource(customerSource);\n\n            case 3:\n              ctx.body = _context.sent;\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar getCustomerSource = function getCustomerSource(router) {\n  router.post("/api/get-customer-source", /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(ctx) {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").getCustomerSource();\n\n            case 2:\n              ctx.body = _context2.sent;\n\n            case 3:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar delCustomerSource = function delCustomerSource(router) {\n  router.post("/api/del-customer-source", /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(ctx) {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").delCustomerSource(ctx.request.body.name);\n\n            case 2:\n              ctx.body = _context3.sent;\n\n            case 3:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar getRepairTypes = function getRepairTypes(router) {\n  router.post("/api/get-repair-types", /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(ctx) {\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").getRepairTypes();\n\n            case 2:\n              ctx.body = _context4.sent;\n\n            case 3:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar createRepairTypes = function createRepairTypes(router) {\n  router.post("/api/create-repair-types", /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(ctx) {\n      var repairTypes;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              repairTypes = ctx.request.body.repairTypes;\n              _context5.next = 3;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").createRepairTypes(repairTypes);\n\n            case 3:\n              ctx.body = _context5.sent;\n\n            case 4:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar delRepairType = function delRepairType(router) {\n  router.post("/api/del-repair-type", /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(ctx) {\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").delRepairType(ctx.request.body.name);\n\n            case 2:\n              ctx.body = _context6.sent;\n\n            case 3:\n            case "end":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar getCars = function getCars(router) {\n  router.post("/api/get-cars", /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(ctx) {\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").getCars();\n\n            case 2:\n              ctx.body = _context7.sent;\n\n            case 3:\n            case "end":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function (_x7) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar createCars = function createCars(router) {\n  router.post("/api/create-cars", /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(ctx) {\n      var repairTypes;\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              repairTypes = ctx.request.body.repairTypes;\n              _context8.next = 3;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").createCars(repairTypes);\n\n            case 3:\n              ctx.body = _context8.sent;\n\n            case 4:\n            case "end":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function (_x8) {\n      return _ref8.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar delCar = function delCar(router) {\n  router.post("/api/del-car", /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(ctx) {\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.next = 2;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").delCar(ctx.request.body.name);\n\n            case 2:\n              ctx.body = _context9.sent;\n\n            case 3:\n            case "end":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    return function (_x9) {\n      return _ref9.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar createCarInfo = function createCarInfo(router) {\n  router.post("/api/create-car-info", /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10(ctx) {\n      var _ctx$request$body, numberPlate, car, VIN, ownerName, phone, mileage, session, deviceID, id;\n\n      return regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              _ctx$request$body = ctx.request.body, numberPlate = _ctx$request$body.numberPlate, car = _ctx$request$body.car, VIN = _ctx$request$body.VIN, ownerName = _ctx$request$body.ownerName, phone = _ctx$request$body.phone, mileage = _ctx$request$body.mileage, session = _ctx$request$body.session, deviceID = _ctx$request$body.deviceID, id = _ctx$request$body.id;\n              _context10.next = 3;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").createCarInfo({\n                numberPlate: numberPlate,\n                car: car,\n                VIN: VIN,\n                ownerName: ownerName,\n                phone: phone,\n                mileage: mileage,\n                session: session,\n                deviceID: deviceID,\n                id: id\n              });\n\n            case 3:\n              ctx.body = _context10.sent;\n\n            case 4:\n            case "end":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    }));\n\n    return function (_x10) {\n      return _ref10.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar queryCarInfoLike = function queryCarInfoLike(router) {\n  router.post("/api/query-car-info", /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11(ctx) {\n      var _ctx$request$body2, numberPlate, car, ownerName, VIN, phone, mileage, limit, offset;\n\n      return regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              _ctx$request$body2 = ctx.request.body, numberPlate = _ctx$request$body2.numberPlate, car = _ctx$request$body2.car, ownerName = _ctx$request$body2.ownerName, VIN = _ctx$request$body2.VIN, phone = _ctx$request$body2.phone, mileage = _ctx$request$body2.mileage, limit = _ctx$request$body2.limit, offset = _ctx$request$body2.offset;\n              _context11.next = 3;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").queryCarInfoLike({\n                numberPlate: numberPlate,\n                car: car,\n                ownerName: ownerName,\n                VIN: VIN,\n                phone: phone,\n                mileage: mileage,\n                limit: limit,\n                offset: offset\n              });\n\n            case 3:\n              ctx.body = _context11.sent;\n\n            case 4:\n            case "end":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    }));\n\n    return function (_x11) {\n      return _ref11.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar delCarInfo = function delCarInfo(router) {\n  router.post("/api/del-car-info", /*#__PURE__*/function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12(ctx) {\n      return regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.next = 2;\n              return __webpack_require__(/*! ../db/customerSource */ "./src/db/customerSource.js").delCarInfo(ctx.request.body.id);\n\n            case 2:\n              ctx.body = _context12.sent;\n\n            case 3:\n            case "end":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }));\n\n    return function (_x12) {\n      return _ref12.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nexports.mutations = [createCustomerSource, getCustomerSource, delCustomerSource, getRepairTypes, createRepairTypes, delRepairType, getCars, createCars, delCar, queryCarInfoLike, createCarInfo, delCarInfo];\n\n//# sourceURL=webpack:///./src/router/customerSource.js?'
        );

        /***/
      },

    /***/ "./src/router/finance.js":
      /*!*******************************!*\
  !*** ./src/router/finance.js ***!
  \*******************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar findOrCreateFinance = function findOrCreateFinance(router) {\n  router.post("/api/find-or-create-finance", /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(ctx) {\n      var _ctx$request$body, month, newRemarks, session, deviceID;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _ctx$request$body = ctx.request.body, month = _ctx$request$body.month, newRemarks = _ctx$request$body.newRemarks, session = _ctx$request$body.session, deviceID = _ctx$request$body.deviceID;\n              _context.next = 3;\n              return __webpack_require__(/*! ../db/finance */ "./src/db/finance.js").findOrCreateFinance(month, newRemarks, session, deviceID);\n\n            case 3:\n              ctx.body = _context.sent;\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar annualStatisticsFinance = function annualStatisticsFinance(router) {\n  router.post("/api/annual-statistics-finance", /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(ctx) {\n      var _ctx$request$body2, year, session, deviceID;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _ctx$request$body2 = ctx.request.body, year = _ctx$request$body2.year, session = _ctx$request$body2.session, deviceID = _ctx$request$body2.deviceID;\n              _context2.next = 3;\n              return __webpack_require__(/*! ../db/finance */ "./src/db/finance.js").annualStatisticsFinance(year, session, deviceID);\n\n            case 3:\n              ctx.body = _context2.sent;\n\n            case 4:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nexports.mutations = [findOrCreateFinance, annualStatisticsFinance];\n\n//# sourceURL=webpack:///./src/router/finance.js?'
        );

        /***/
      },

    /***/ "./src/router/index.js":
      /*!*****************************!*\
  !*** ./src/router/index.js ***!
  \*****************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'exports.routes = function (router) {\n  var paths = [__webpack_require__(/*! ./userLog */ "./src/router/userLog.js"), __webpack_require__(/*! ./customerSource */ "./src/router/customerSource.js"), __webpack_require__(/*! ./billManagement */ "./src/router/billManagement.js"), __webpack_require__(/*! ./inventoryManagement */ "./src/router/inventoryManagement.js"), __webpack_require__(/*! ./finance */ "./src/router/finance.js")];\n  paths.forEach(function (p) {\n    p.mutations.forEach(function (mutation) {\n      mutation(router);\n    });\n  });\n  return router;\n};\n\n//# sourceURL=webpack:///./src/router/index.js?'
        );

        /***/
      },

    /***/ "./src/router/inventoryManagement.js":
      /*!*******************************************!*\
  !*** ./src/router/inventoryManagement.js ***!
  \*******************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar saveInventory = function saveInventory(router) {\n  router.post("/api/save-inventory", /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(ctx) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return __webpack_require__(/*! ../db/inventory */ "./src/db/inventory.js").saveInventory(ctx.request.body);\n\n            case 2:\n              ctx.body = _context.sent;\n\n            case 3:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar queryInventory = function queryInventory(router) {\n  router.post("/api/query-inventory", /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(ctx) {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return __webpack_require__(/*! ../db/inventory */ "./src/db/inventory.js").queryInventory(ctx.request.body);\n\n            case 2:\n              ctx.body = _context2.sent;\n\n            case 3:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar delInventory = function delInventory(router) {\n  router.post("/api/del-inventory", /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(ctx) {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return __webpack_require__(/*! ../db/inventory */ "./src/db/inventory.js").delInventory(ctx.request.body.id);\n\n            case 2:\n              ctx.body = _context3.sent;\n\n            case 3:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar queryInventoryAttrs = function queryInventoryAttrs(router) {\n  router.post("/api/del-inventory-attrs", /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(ctx) {\n      var _ctx$request$body, q, attributes, query;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _ctx$request$body = ctx.request.body, q = _ctx$request$body.q, attributes = _ctx$request$body.attributes, query = _ctx$request$body.query;\n              _context4.next = 3;\n              return __webpack_require__(/*! ../db/inventory */ "./src/db/inventory.js").queryInventoryAttrs(attributes, q, query);\n\n            case 3:\n              ctx.body = _context4.sent;\n\n            case 4:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nexports.mutations = [queryInventory, saveInventory, delInventory, queryInventoryAttrs];\n\n//# sourceURL=webpack:///./src/router/inventoryManagement.js?'
        );

        /***/
      },

    /***/ "./src/router/userLog.js":
      /*!*******************************!*\
  !*** ./src/router/userLog.js ***!
  \*******************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar remove = __webpack_require__(/*! lodash/remove */ "lodash/remove");\n\nvar login = function login(router) {\n  router.post("/api/login", /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(ctx) {\n      var _ctx$request$headers$, _ctx$request$headers$2;\n\n      var _ctx$request$body, username, password, device, deviceID, session, ip, realIP, _require, sessionPool;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _ctx$request$body = ctx.request.body, username = _ctx$request$body.username, password = _ctx$request$body.password, device = _ctx$request$body.device, deviceID = _ctx$request$body.deviceID, session = _ctx$request$body.session;\n              ip = (_ctx$request$headers$ = ctx.request.headers["X-Real-IP"]) !== null && _ctx$request$headers$ !== void 0 ? _ctx$request$headers$ : "";\n              realIP = (_ctx$request$headers$2 = ctx.request.headers["X-Forwarded-For"]) !== null && _ctx$request$headers$2 !== void 0 ? _ctx$request$headers$2 : "";\n              _require = __webpack_require__(/*! ../session/sessionPool */ "./src/session/sessionPool.js"), sessionPool = _require.sessionPool;\n              remove(sessionPool, function (s) {\n                return s.session !== session && s.deviceID === deviceID;\n              });\n              _context.next = 7;\n              return __webpack_require__(/*! ../db/user */ "./src/db/user.js").userLogin(username, password, JSON.stringify(device), deviceID, session, ip, realIP);\n\n            case 7:\n              ctx.body = _context.sent;\n\n            case 8:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar checkLogin = function checkLogin(router) {\n  router.post("/api/check-login", /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(ctx) {\n      var _ctx$request$body2, session, deviceID, checkLogin;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _ctx$request$body2 = ctx.request.body, session = _ctx$request$body2.session, deviceID = _ctx$request$body2.deviceID;\n              checkLogin = __webpack_require__(/*! ../session/user */ "./src/session/user.js").checkLogin(session, deviceID);\n              ctx.body = {\n                code: checkLogin ? 0 : 401,\n                msg: checkLogin ? "" : "登录失效，请重新登录！"\n              };\n\n            case 3:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nvar logout = function logout(router) {\n  router.post("/api/logout", /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(ctx) {\n      var session;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              session = ctx.request.body.session;\n              _context3.next = 3;\n              return __webpack_require__(/*! ../db/user */ "./src/db/user.js").userLogout(session);\n\n            case 3:\n              ctx.body = _context3.sent;\n\n            case 4:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  return router;\n};\n\nexports.mutations = [login, checkLogin, logout];\n\n//# sourceURL=webpack:///./src/router/userLog.js?'
        );

        /***/
      },

    /***/ "./src/session/auth.js":
      /*!*****************************!*\
  !*** ./src/session/auth.js ***!
  \*****************************/
      /*! exports provided: default */
      /***/ function (module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval(
          '__webpack_require__.r(__webpack_exports__);\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nvar doNotNeedAuthRoute = new Set(["/api/login"]);\n/* harmony default export */ __webpack_exports__["default"] = (function (_x, _x2) {\n  return _ref.apply(this, arguments);\n});\n\nfunction _ref() {\n  _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(ctx, next) {\n    var url, _ctx$request$body, session, deviceID, checkLogin;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            url = ctx.request.url;\n            _ctx$request$body = ctx.request.body, session = _ctx$request$body.session, deviceID = _ctx$request$body.deviceID;\n            checkLogin = __webpack_require__(/*! ../session/user */ "./src/session/user.js").checkLogin(session, deviceID);\n\n            if (!(!checkLogin && !doNotNeedAuthRoute.has(url))) {\n              _context.next = 7;\n              break;\n            }\n\n            ctx.body = {\n              code: 401,\n              msg: "登录失效，请重新登录！"\n            };\n            _context.next = 9;\n            break;\n\n          case 7:\n            _context.next = 9;\n            return next();\n\n          case 9:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _ref.apply(this, arguments);\n}\n\n//# sourceURL=webpack:///./src/session/auth.js?'
        );

        /***/
      },

    /***/ "./src/session/sessionPool.js":
      /*!************************************!*\
  !*** ./src/session/sessionPool.js ***!
  \************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          '/**\n * session池\n * username 用户名\n * device 设备信息\n * ip 登陆ip\n * */\nvar sessionPool = [];\n\nif (true) {\n  sessionPool.push({\n    session: "test",\n    deviceID: "test"\n  });\n}\n\nexports.sessionPool = sessionPool;\n\n//# sourceURL=webpack:///./src/session/sessionPool.js?'
        );

        /***/
      },

    /***/ "./src/session/user.js":
      /*!*****************************!*\
  !*** ./src/session/user.js ***!
  \*****************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          'exports.checkLogin = function (session, deviceID) {\n  var _require = __webpack_require__(/*! ./sessionPool */ "./src/session/sessionPool.js"),\n      sessionPool = _require.sessionPool;\n\n  return !!sessionPool.find(function (s) {\n    return s.session === session && s.deviceID === deviceID;\n  });\n};\n\n//# sourceURL=webpack:///./src/session/user.js?'
        );

        /***/
      },

    /***/ 0:
      /*!*******************************************!*\
  !*** multi @babel/polyfill ./src/main.js ***!
  \*******************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        eval(
          '__webpack_require__(/*! @babel/polyfill */"@babel/polyfill");\nmodule.exports = __webpack_require__(/*! E:\\learn\\car\\server\\src\\main.js */"./src/main.js");\n\n\n//# sourceURL=webpack:///multi_@babel/polyfill_./src/main.js?'
        );

        /***/
      },

    /***/ "@babel/polyfill":
      /*!**********************************!*\
  !*** external "@babel/polyfill" ***!
  \**********************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'module.exports = require("@babel/polyfill");\n\n//# sourceURL=webpack:///external_%22@babel/polyfill%22?'
        );

        /***/
      },

    /***/ chalk:
      /*!************************!*\
  !*** external "chalk" ***!
  \************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'module.exports = require("chalk");\n\n//# sourceURL=webpack:///external_%22chalk%22?'
        );

        /***/
      },

    /***/ crypto:
      /*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'module.exports = require("crypto");\n\n//# sourceURL=webpack:///external_%22crypto%22?'
        );

        /***/
      },

    /***/ koa:
      /*!**********************!*\
  !*** external "koa" ***!
  \**********************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'module.exports = require("koa");\n\n//# sourceURL=webpack:///external_%22koa%22?'
        );

        /***/
      },

    /***/ "koa-bodyparser":
      /*!*********************************!*\
  !*** external "koa-bodyparser" ***!
  \*********************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'module.exports = require("koa-bodyparser");\n\n//# sourceURL=webpack:///external_%22koa-bodyparser%22?'
        );

        /***/
      },

    /***/ "koa-router":
      /*!*****************************!*\
  !*** external "koa-router" ***!
  \*****************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'module.exports = require("koa-router");\n\n//# sourceURL=webpack:///external_%22koa-router%22?'
        );

        /***/
      },

    /***/ "lodash/remove":
      /*!********************************!*\
  !*** external "lodash/remove" ***!
  \********************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'module.exports = require("lodash/remove");\n\n//# sourceURL=webpack:///external_%22lodash/remove%22?'
        );

        /***/
      },

    /***/ path:
      /*!***********************!*\
  !*** external "path" ***!
  \***********************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'module.exports = require("path");\n\n//# sourceURL=webpack:///external_%22path%22?'
        );

        /***/
      },

    /***/ sequelize:
      /*!****************************!*\
  !*** external "sequelize" ***!
  \****************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'module.exports = require("sequelize");\n\n//# sourceURL=webpack:///external_%22sequelize%22?'
        );

        /***/
      },

    /***/ uuid:
      /*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
      /*! no static exports found */
      /***/ function (module, exports) {
        eval(
          'module.exports = require("uuid");\n\n//# sourceURL=webpack:///external_%22uuid%22?'
        );

        /***/
      },

    /******/
  }
);
